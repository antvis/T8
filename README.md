<img src="https://gw.alipayobjects.com/zos/antfincdn/R8sN%24GNdh6/language.svg" width="18"> English | [ç®€ä½“ä¸­æ–‡](./README.zh-CN.md)

<h1 align="center">
<b>ğŸ§¬ T8: Narrative Text Visualization</b>
</h1>

<div align="center">

`T8` is a text visualization solution for unstructured data within the AntV technology stack, where `T` stands for Text, and `8` represents a byte of 8 bits, symbolizing that it can deeply uncover insights hidden beneath the text.

![gzip size](https://img.badgesize.io/https://unpkg.com/@antv/t8/dist/t8.min?compression=gzip)
[![Build Status](https://github.com/antvis/t8/actions/workflows/build.yml/badge.svg)](https://github.com/antvis/T8/actions/workflows/build.yml)
[![codecov](https://codecov.io/gh/antvis/T8/graph/badge.svg?token=A8fR9pUkbc)](https://codecov.io/gh/antvis/T8)
[![npm Version](https://img.shields.io/npm/v/@antv/t8.svg)](https://www.npmjs.com/package/@antv/t8)
[![npm License](https://img.shields.io/npm/l/@antv/t8.svg)](https://www.npmjs.com/package/@antv/t8)

<video src="https://github.com/user-attachments/assets/ecf953a9-efd1-4c72-9d12-d84316004b88"></video>

</div>

`T8` is a declarative JSON Schema syntax that can be used to describe the content of data interpretation reports. Technically, based on the assumption that the JSON Schema data is generated by the server, the frontend simply consumes the Schema for rendering. As the demand for diversity and immediacy in data representation grows, along with the increasing application of AI and NLP technologies, maintaining text templates on the frontend will become unsustainable. In this context, using T8 for unified rendering will be the optimal choice.

- [Introduction](https://t8.antv.vision/tutorial/quick-start.html) - a brief overview and T8's motivations.
- [T8's Schema](https://t8.antv.vision/schema/) - the JSON Schema and description for T8.
- [API](https://t8.antv.vision/api/) - interactive case-driven guides of T8's core concepts, and how to use them.
- [Example]() - a live agent for using T8 with ai.

## âœ¨ Features

- ğŸ›« **Technology stack agnostic** - Can be used into `React`, `Vue`, and other frontend stack.
- ğŸ¤– **LLM friendly** - The T8's schema is easy to be generated by `AI` with prompt.
- ğŸ› ï¸ **Extensible** - Register custom `EntityPhrase` to easily customize the T8's ui elements.
- ğŸª© **Lightweight** - Few dependencies, small footprint, before gzip it was less than `20` Kb.

## ğŸ”¨ Getting Started

T8 is usually installed via a package manager such as npm or Yarn.

```bash
$ npm install @antv/t8
```

```bash
$ yarn add @antv/t8
```

The `Text` object then can be imported from T8.

```html
<div id="container"></div>
```

```js
import { Text } from '@antv/t8';

// A narrative text using T8-DSL syntax.
const narrativeText = `
# Sales Report

Total sales reached [Â¥1,234,567](metric_value, origin=1234567).

## Regional Performance

Eastern region contributed [Â¥800,000](metric_value), accounting for [64.8%](contribute_ratio, assessment="positive").
`;

// Instantiate a new Text.
const text = new Text({
  container: 'container',
});

// Specify narrative text using syntax method.
text.syntax(narrativeText).theme('light');

// Render visualization.
const unmont = text.render();

// Destroy.
unmont();
```

If all goes well, you can get the following narrative text visualization!

<img alt="T8 examples light" width="768" src="https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GDPUToCi8ncAAAAATrAAAAgAemJ7AQ/fmt.webp" />

## ğŸ¤– Using in LLM

T8 can be used to output specific text into a schema that meets the requirements, and then render it in a more easily readable text. For the processing of text, LLM is one of the core advantages of large models. To help you better use T8, we provide several pieces of content that can be used in your own Agent to quickly generate and render text information summaries.

1. JSON Schema: Standard JSON Schema format for describing the format and structure of text, which can be obtained from [remote](http://unpkg.com/@antv/t8/dist/schema.json) or from the current GitHub repository.
2. Prompt Template: A set of templates for prompting LLMs, see [prompt.md](./prompt.md) and [prompt.zh-CN.md](./prompt.zh-CN.md).
3. Some examples: [T8 Schema Example](./example/example.json).
4. An example of an agent based on the [tbox](https://www.tbox.cn/): [Text Summary].

We welcome all contributors to T8 and all our backers, and thank you for your suggestions and feedback.

### ğŸ§ª Restore Benchmark

Synthetic benchmark validates the `restore` function (compressed JSON -> schema). It generates random compressed cases and checks that restored output matches `schema.json` via Ajv with a success ratio threshold (>=90%).

Run it directly:

```bash
npx vitest run __tests__/restore.benchmark.spec.ts --reporter verbose
```

Adjust generation logic in `__tests__/restore.benchmark.spec.ts` to explore edge cases.

## ğŸ“® Contributing

This project exists thanks to all the people who contribute. And thank you to all our backers! ğŸ™

- [Issues](https://github.com/antvis/t8/issues) - report bugs or request features
- [Discussions](https://github.com/antvis/t8/discussions) - discuss on GitHub

## ğŸ“„ License

MIT@[AntV](https://github.com/antvis).
